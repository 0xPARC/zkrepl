import{l as g,w as v,R as e,e as w,K as b,a as y,_ as k,b as x}from"./vendor.b3945a55.js";const S=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function f(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=f(t);fetch(t.href,s)}};S();g.register({id:"circom"});g.setLanguageConfiguration("circom",{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:g.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:g.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:g.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:g.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}});g.setMonarchTokensProvider("circom",{keywords:["signal","input","output","public","template","component","var","function","return","if","else","for","while","do","log","assert","include","pragma"],typeKeywords:["input","output","public"],operators:["!","~","-","||","&&","==","!=","<",">","<=",">=","|","&","<<",">>","+","-","*","/","\\","%","**","^","=","<--","<=="],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@\s*[a-zA-Z_\$][\w\$]*/,{token:"annotation",log:"annotation token: $0"}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}});var A=`include "circomlib/mimc.circom";

template Example () {  
    signal input a;  
    signal input b;  
    signal output c;  
    
    c <== a * b;  
    log(c);


    component mimc = MiMC7(91);
    mimc.x_in <== a;
    mimc.k <== 22;
    log(mimc.out);

    log(111111111);  
}

component main = Example();

/* INPUT = {
    "a": "2",
    "b": "77"
} */`;function C(){return new Worker("/assets/worker.764c5a47.js",{type:"module"})}var N="/assets/circomlib.acbc52cb.zip";console.log(N,v);function I(){const[h,a]=e.useState(!1),[f,l]=e.useState([]),[t,s]=e.useState(null),u=e.useRef(null),o=e.useRef(null);return e.useEffect(()=>{if(u&&!t){const m=new URLSearchParams(location.search).get("code");m&&(history.replaceState(null,"","/"),fetch("https://kikks470wl.execute-api.us-west-1.amazonaws.com/access_token?code="+m,{method:"POST"}).then(n=>n.formData()).then(n=>{n.get("access_token")?(localStorage.GithubAccessToken=n.get("access_token"),r.getModel().setValue(localStorage.GithubNavigationCodeSnapshot),E()):alert("Failed to get access token")}));const p=new URLSearchParams(location.search).get("gist");p&&fetch("https://api.github.com/gists/"+p).then(n=>n.json()).then(n=>{var i,c;r.getModel().setValue(((c=(i=n==null?void 0:n.files)==null?void 0:i["main.circom"])==null?void 0:c.content)||"// Unable to load gist"),d()});const r=w.create(u.current,{value:p?"// Loading from Github...":A,language:"circom",automaticLayout:!0}),d=()=>{(!o.current||o.current.running)&&(o.current&&(o.current.terminate(),o.current=null),o.current=new C,o.current.onmessage=n=>{const i=n.data;(i.type==="fail"||i.type==="done")&&(a(!1),o.current.running=!1),l(c=>[...c,i])},o.current.onerror=n=>{console.error(n),l(i=>[...i,{type:"error",text:n.message}])}),o.current.running=!0,a(!0),l([]),o.current.postMessage({type:"run",code:r.getValue()})},E=()=>{const n=new URLSearchParams(location.search).get("gist"),i=()=>{localStorage.GithubNavigationCodeSnapshot=r.getValue(),location.href="https://github.com/login/oauth/authorize?client_id=85123c5a3a8a8f73f015&scope=gist"};localStorage.GithubAccessToken?(a(!0),fetch(n?"https://api.github.com/gists/"+n:"https://api.github.com/gists",{method:"POST",body:JSON.stringify({files:{"main.circom":{content:r.getValue()}}}),headers:{Authorization:"token "+localStorage.GithubAccessToken}}).then(c=>c.json()).then(c=>{c.id?history.replaceState(null,"","/?gist="+c.id):c.message==="Bad credentials"&&i(),a(!1)})):i()};r.addCommand(b.CtrlCmd|y.KeyS,E),r.addCommand(b.CtrlCmd|y.Enter,d),r.addCommand(b.Shift|y.Enter,d),r.addCommand(b.CtrlCmd|y.Period,function(){console.log("Abort kernel!"),a(!1),o.current&&(o.current.terminate(),o.current=null)}),p||d(),s(r)}return()=>t==null?void 0:t.dispose()},[u.current]),e.createElement("div",{className:"layout"},e.createElement("div",{className:"editor",ref:u}),e.createElement("div",{className:"sidebar"},e.createElement("div",{className:"output"},e.createElement("div",{className:"label"},"Shift-Enter to run. Cmd-S to save to Github Gists."),e.createElement("br",null),f.map((m,p)=>e.createElement("div",{key:p},e.createElement("div",{className:"label"},m.type,": "),e.createElement(k,null,m.text),m.files&&e.createElement("div",{className:"files"},Object.entries(m.files).map(([r,d])=>e.createElement("li",{key:r},e.createElement("a",{href:URL.createObjectURL(new Blob([d],{type:"application/octet-stream"})),download:r},r)," ","(",(d.length/1e3).toFixed(2),"KB)"))))),h?e.createElement(T,null):null)))}function T(){const[h,a]=e.useState(0);return e.useEffect(()=>{const f=Date.now(),l=setInterval(()=>{a(Date.now()-f)},16);return()=>clearInterval(l)},[]),e.createElement("div",{className:"loading"},e.createElement("div",{className:"lds-ellipsis"},e.createElement("div",null),e.createElement("div",null),e.createElement("div",null),e.createElement("div",null)),e.createElement("div",{className:"time"},(h/1e3).toFixed(2),"s"))}x.createRoot(document.getElementById("root")).render(e.createElement(I,null));
