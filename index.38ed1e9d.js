import{l as p,R as A,w as C,a as e,e as R,K as y,b as v,_ as S,c as $}from"./vendor.bfb6eff5.js";const L=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function f(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=f(n);fetch(n.href,o)}};L();p.register({id:"circom"});let w=d=>{};p.registerHoverProvider("circom",{provideHover:async function(d,s){if(k.running)return null;const f=d.getLineContent(s.lineNumber),c=/([a-z$_][a-z0-9$_]*)(\.[a-z$_][a-z0-9$_]*)*(\[\d+\])?/g,n=s.column;let o;for(;(o=c.exec(f))&&!(o.index>n);){if(o.index+o[0].length<n)continue;const u=o[0],r=await new Promise(l=>{w=m=>{l(m.text),w=()=>{}},k.postMessage({type:"hover",symbol:u})});return{range:new A(s.lineNumber,1+o.index,s.lineNumber,1+o.index+o[0].length),contents:[{value:r}]}}return null}});p.setLanguageConfiguration("circom",{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:p.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:p.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:p.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:p.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}});p.setMonarchTokensProvider("circom",{keywords:["signal","input","output","public","template","component","var","function","return","if","else","for","while","do","log","assert","include","pragma"],typeKeywords:["input","output","public"],operators:["!","~","-","||","&&","==","!=","<",">","<=",">=","|","&","<<",">>","+","-","*","/","\\","%","**","^","=","<--","<=="],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@\s*[a-zA-Z_\$][\w\$]*/,{token:"annotation",log:"annotation token: $0"}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}});var T=`pragma circom 2.0.1;

include "circomlib/poseidon.circom";

template Example () {
    signal input a;
    signal input b;
    signal output c;
    
    c <== a * b;

    assert(a > 2);
    
    component hash = Poseidon(2);
    hash.inputs[0] <== a;
    hash.inputs[1] <== b;

    log(hash.out);
}

component main { public [ a ] } = Example();

/* INPUT = {
    "a": "5",
    "b": "77"
} */`;function I(){return new Worker("worker.d6c1c469.js",{type:"module"})}var P="circomlib.acbc52cb.zip";console.log(P,C);var k;function z(){const[d,s]=e.useState(!1),[f,c]=e.useState([]),[n,o]=e.useState(null),u=e.useRef(null),r=e.useRef(null);return e.useEffect(()=>{if(u&&!n){const l=new URLSearchParams(location.search).get("code");l&&(history.replaceState(null,"","/"),fetch("https://kikks470wl.execute-api.us-west-1.amazonaws.com/access_token?code="+l,{method:"POST"}).then(t=>t.formData()).then(t=>{t.get("access_token")?(localStorage.GithubAccessToken=t.get("access_token"),i.getModel().setValue(localStorage.GithubNavigationCodeSnapshot),E()):alert("Failed to get access token")}));const m=new URLSearchParams(location.search).get("gist");m&&fetch("https://api.github.com/gists/"+m).then(t=>t.json()).then(t=>{var a,g;i.getModel().setValue(((g=(a=t==null?void 0:t.files)==null?void 0:a["main.circom"])==null?void 0:g.content)||"// Unable to load gist"),h()});const i=R.create(u.current,{value:m?"// Loading from Github...":T,language:"circom",theme:"vs",automaticLayout:!0,hover:{enabled:!0}}),h=()=>{(!r.current||r.current.running)&&(r.current&&(r.current.terminate(),r.current=null),r.current=new I,k=r.current,r.current.onmessage=t=>{const a=t.data;if(a.type==="fail")s(!1),r.current.running=!1;else if(a.type==="done")s(!1),r.current.running=!1;else{if(a.type==="hover")return w(a);a.type==="debug"&&console.log(a.text)}c(g=>[...g,a])},r.current.onerror=t=>{console.error(t),c(a=>[...a,{type:"error",text:t.message}])}),r.current.running=!0,s(Math.random()+1),c([]),r.current.postMessage({type:"run",code:i.getValue()})},E=()=>{const t=new URLSearchParams(location.search).get("gist"),a=()=>{localStorage.GithubNavigationCodeSnapshot=i.getValue(),location.href="https://github.com/login/oauth/authorize?client_id=85123c5a3a8a8f73f015&scope=gist"},g=i.getValue();if(history.state===g)console.log("Already saved!");else if(localStorage.GithubAccessToken){s(Math.random()+1);const x={"main.circom":{content:g}};t&&(x["about.md"]={content:`Open this in [zkREPL \u2192](https://zkrepl.dev/?gist=${t})

This file can be included into other zkREPLs with \`\`\`include "gist:`+t+'";```'}),fetch(t?"https://api.github.com/gists/"+t:"https://api.github.com/gists",{method:"POST",body:JSON.stringify({files:x}),headers:{Authorization:"token "+localStorage.GithubAccessToken}}).then(b=>b.json()).then(b=>{b.id?(history.replaceState(g,"","/?gist="+b.id),c(N=>[...N,{type:"save",url:`https://gist.github.com/${b.id}`,text:"Saved to Github"}])):b.message==="Bad credentials"?a():b.message==="Not Found"&&t&&(history.replaceState(null,"","/"),E()),s(!1)})}else a()};i.addCommand(y.CtrlCmd|v.KeyS,E),i.addCommand(y.CtrlCmd|v.Enter,h),i.addCommand(y.Shift|v.Enter,h),i.addCommand(y.CtrlCmd|v.Period,function(){console.log("Abort kernel!"),s(!1),c(t=>[...t,{type:"abort",text:"Execution manually interrupted"}]),r.current&&(r.current.terminate(),r.current=null)}),m||h(),o(i)}return()=>n==null?void 0:n.dispose()},[u.current]),e.createElement("div",{className:"layout"},e.createElement("div",{className:"editor",ref:u}),e.createElement("div",{className:"sidebar"},e.createElement("div",{className:"output"},e.createElement("div",{className:"label"},"Shift-Enter to run. Cmd-S to save to Github Gists."),e.createElement("br",null),f.map((l,m)=>e.createElement("div",{key:m},e.createElement("div",{className:"label"},l.type,": "),l.url?e.createElement("a",{href:l.url},e.createElement(S,null,l.text)):e.createElement(S,null,l.text),l.files&&e.createElement("div",{className:"files"},Object.entries(l.files).map(([i,h])=>e.createElement("li",{key:i},e.createElement("a",{href:URL.createObjectURL(new Blob([h],{type:"application/octet-stream"})),download:i},i)," ","(",(h.length/1e3).toFixed(2),"KB)"))))),d?e.createElement(O,{key:d}):null)))}function O(){const[d,s]=e.useState(0);return e.useEffect(()=>{const f=Date.now(),c=setInterval(()=>{s(Date.now()-f)},16);return()=>clearInterval(c)},[]),e.createElement("div",{className:"loading"},e.createElement("div",{className:"lds-ellipsis"},e.createElement("div",null),e.createElement("div",null),e.createElement("div",null),e.createElement("div",null)),d>200&&e.createElement("div",{className:"time"},(d/1e3).toFixed(2),"s"))}$.createRoot(document.getElementById("root")).render(e.createElement(z,null));
